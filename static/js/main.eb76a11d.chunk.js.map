{"version":3,"sources":["utils/Api.js","images/logo.svg","components/Header.js","images/edit-icon.svg","images/add-icon.svg","images/Trash.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteSubmitPopup.js","components/Register.js","components/Login.js","utils/auth.js","components/ProtectedRoute.js","images/error.svg","images/success.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","headers","this","_baseUrl","_headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","data","body","JSON","stringify","url","avatar","name","link","card","cardId","isLiked","deleteCard","addCard","setLike","deleteLike","authorization","Header","email","onClick","className","src","logo","alt","path","to","CurrentUserContext","React","createContext","Card","props","userId","useContext","isOwn","dataCards","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","style","backgroundImage","Trash","type","onCardDelete","onCardClick","onCardLike","length","Main","currentUser","onEditAvatar","editIcon","onEditProfile","about","onAddCard","addIcon","Array","from","cards","map","item","Footer","ImagePopup","isOpen","onClose","PopupWithForm","title","onSubmit","children","submitText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","onChange","target","value","id","placeholder","minLength","maxLength","required","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","inputValue","setInputValue","handleInputChange","event","onAddPlace","DeleteSubmitPopup","Register","onRegister","password","autocomplete","Login","onLogin","BASE_URL","checkStatus","ProtectedRoute","loggedIn","InfoTooltip","isSuccess","message","success","error","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","deleteSubmitPopup","setDeleteSubmitPopup","setDeleteCard","isImagePopupOpen","setImagePopupOpen","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","selectedCard","setSelectedCard","setLoggedIn","setEmail","isSuccessful","setIsSuccessful","setMessage","history","useHistory","closeAllPopups","useLocation","pathname","handleEsc","keyCode","window","addEventListener","removeEventListener","setCurrentUser","userInfoGet","setUserInfoGet","currentCards","setCurrentCards","tokenCheck","token","localStorage","getItem","Authorization","auth","push","catch","err","console","log","all","getUserInfo","getCards","userInfo","cardList","Provider","removeItem","exact","loader","changeLikeCardStatus","newCard","newCards","c","response","Accept","setItem","changeUserInfo","changeUserImage","state","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eb76a11d.chunk.js","sourcesContent":["export class Api {\n    constructor({ baseUrl, headers }) {\n        this._baseUrl = baseUrl;\n        this._headers = headers;\n    }\n\n  _getResponseData(res) {\n    if (!res.ok) {\n        return Promise.reject(`Ошибка: ${res.status}`); \n    }\n    return res.json();\n  }\n\n  getCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'GET',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  changeUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data),\n    })\n    .then(this._getResponseData)\n  }\n\n   changeUserImage(url) {\n    return fetch(`${this._baseUrl}/users/me/avatar`,\n      {\n        method: \"PATCH\",\n        headers: this._headers,\n        body: JSON.stringify({\n          avatar: url\n        })\n      })\n      .then(this._getResponseData)\n  }\n  \n  addCard({name, link}) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({ \n        name: name, \n        link: link \n      }),\n    })\n    .then(this._getResponseData)\n  }\n\n  deleteCard(data) {\n    return fetch(`${this._baseUrl}/cards/${data}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then(this._getResponseData)\n  }\n  \n  setLike(card) {\n    return fetch(`${this._baseUrl}/cards/likes/${card}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  deleteLike(card) {\n    return fetch(`${this._baseUrl}/cards/likes/${card}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n    .then(this._getResponseData)\n  }\n\n  changeCardStatus (cardId, isLiked) {\n    return isLiked ? this.deleteCard(cardId) : this.addCard(cardId);\n  }\n\n  changeLikeCardStatus(card, isLiked) {\n    if (isLiked) {\n      return this.setLike(card);\n    } else {\n      return this.deleteLike(card);\n    }\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26',\n  headers: {\n    authorization: 'e02ab8b7-b6ac-4103-9bf7-1aa081d397f1',\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api","export default __webpack_public_path__ + \"static/media/logo.f052b6a4.svg\";","import React from 'react';\nimport { Route, Switch, Link } from 'react-router-dom';\nimport '../index.css';\nimport logo from '../images/logo.svg';\n\nfunction Header({ email, onClick }) {\n\n  return (\n    <>\n     <header className=\"header\">\n       <img\n        className=\"logo\"\n        src={logo}\n        alt=\"логотип проекта\"\n      />\n        <div className=\"menu\">\n          <Switch>\n            <Route path=\"/sign-in\">\n              <Link to=\"/sign-up\" className=\"menu__item\">Регистрация</Link>\n            </Route>\n            <Route path=\"/sign-up\">\n              <Link to=\"/sign-in\" className=\"menu__item\">Войти</Link>\n            </Route>\n            <Route path=\"/\">\n              <nav className=\"menu\">\n                <p className=\"menu__item\">{email}</p>\n                <Link onClick={onClick} className=\"menu__item\">Выйти</Link>\n              </nav>\n            </Route>\n          </Switch>\n        </div>\n      </header>\n    </>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/edit-icon.a086f758.svg\";","export default __webpack_public_path__ + \"static/media/add-icon.d86bb2ed.svg\";","export default __webpack_public_path__ + \"static/media/Trash.cbc09a89.svg\";","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport Trash from '../images/Trash.svg'\nimport { CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n\n  const userId = React.useContext(CurrentUserContext)\n  \n  const isOwn = props.dataCards.owner._id === userId._id;\n\n  const cardDeleteButtonClassName = (\n    `elements__remove ${isOwn ? 'elements__remove' : 'elements__remove_inactive'}`\n  );\n\n  const isLiked = props.dataCards.likes.some(i => i._id === userId._id);\n\n  const cardLikeButtonClassName = (\n    `elements__like ${isLiked ? 'elements__like_active' : ' '}`\n  );\n\n  function handleCardClick() {\n    props.onCardClick(props.dataCards);\n  }  \n\n  function handleCardLike(){\n    props.onCardLike(props.dataCards);\n  }\n\n  function handleDeleteClick (){\n    props.onCardDelete(props.dataCards);\n  }\n\n  \n    return(\n      <li className=\"elements__item\">\n        <button className={`${cardDeleteButtonClassName}`} style={{ backgroundImage: `url(${Trash})` }} type=\"button\" onClick ={handleDeleteClick} />\n        <img className=\"elements__image\" src={props.dataCards.link} alt={props.name} onClick={handleCardClick} />\n        <div className=\"elements__info\">\n          <h2 className=\"elements__title\">{props.dataCards.name}</h2>\n          <div className=\"elements__like-container\">\n            <button className={`${cardLikeButtonClassName}`} type=\"button\" onClick={handleCardLike}/>\n            <p className=\"elements__like-counter\">{props.dataCards.likes.length}</p>\n          </div>\n        </div>\n      </li>\n  )\n}\n\nexport default Card","import '../index.css';\nimport React from 'react';\nimport editIcon from '../images/edit-icon.svg';\nimport addIcon from '../images/add-icon.svg';\nimport Card from './Card';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n  <main className=\"main\">\n    <section className=\"profile\">\n      <div className=\"profile__info\">\n        <div className=\"profile__avatar\">\n          <button type=\"button\" className=\"profile__overlay\" onClick={props.onEditAvatar}>\n            <img\n              className=\"profile__icon\"\n              src={editIcon}\n              alt=\"иконка редактирования профиля\"\n            />\n          </button>\n          <img\n            className=\"profile__image\"\n            src={currentUser.avatar}\n            alt=\"Фото профиля\"\n          />\n        </div>\n        <div>\n          <div className=\"profile__container\">\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\n            <button className=\"button button_type_edit\" onClick={props.onEditProfile} type=\"button\" />\n          </div>\n          <p className=\"profile__subtitle\">{currentUser.about}</p>\n        </div>\n      </div>\n      <button type=\"button\" className=\"button button_type_add\" onClick={props.onAddCard} >\n        <img\n          className=\"button__add-icon\"\n          src={addIcon}\n          alt=\"Иконка добавить\"\n        />\n      </button>\n    </section>\n    <section className=\"elements\">\n      <ul className=\"elements__grid\">\n        {Array.from(props.cards).map((item) => (\n            <Card \n              key={item._id} \n              dataCards = {item} \n              onCardClick={props.onCardClick}\n              onCardLike ={props.onCardLike}\n              onCardDelete ={props.onCardDelete}\n            />\n          ))}\n      </ul>\n    </section>\n  </main>\n  );\n}\n\nexport default Main;","import '../index.css';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n    <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\n  </footer>\n  );\n}\n\nexport default Footer;","function ImagePopup(props){\n  return(\n    <section className={`popup popup_type_image ${props.isOpen  ? \"popup_opened\":\"\"}`}>\n      <figure className=\"popup__window popup__window_image\" method=\"POST\">\n        <button type=\"button\" className=\"button button_type_close\" onClick={props.onClose} />\n        <img className=\"popup__image\" alt={props.card.name} src={props.card.link} />\n        <figcaption className=\"popup__caption\" >{props.card.name}</figcaption>\n      </figure>\n    <div className=\"popup__overlay popup__overlay_image\" />\n    </section>\n  )\n}\nexport default ImagePopup","import '../index.css';\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={`popup popup_type_${props.name} ${props.isOpen ? \"popup_opened\":\"\"}`}>\n    <div className=\"popup__window\">\n      <button \n        type=\"button\" \n        className=\"button button_type_close\"  \n        onClick={props.onClose} \n      />\n      <h2 className=\"popup__heading\">{props.title}</h2>\n      <form \n        className=\"form\" \n        name={props.name} \n        onSubmit={props.onSubmit}\n        method=\"POST\"\n      > \n        {props.children}\n        <button className=\"button button_type_submit\" type=\"submit\" >\n        {props.submitText}\n        </button>\n      </form>\n    </div>\n    <div className=\"popup__overlay popup__overlay_edit\" onClick={props.onClose} />\n  </section>\n  );\n}\n\nexport default PopupWithForm;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup (props){\n    const [name , setName ] = React.useState('')\n    const [description , setDescription ] = React.useState('')\n\n    const currentUser = React.useContext(CurrentUserContext);\n    React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n    }, [currentUser, props.isOpen]);\n\n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n    \n    function handleAboutChange(e) {\n        setDescription(e.target.value);\n    }\n\n      \n    function handleSubmit(e) {\n      e.preventDefault();\n      props.onUpdateUser({\n        name,\n        about: description,\n      });\n    }\n    \n    return(\n        <PopupWithForm  name =\"popup_profile \"  title =\"Редактировать профиль\" submitText=\"Сохранить\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n          <fieldset className=\"form__input-container\">\n            <div className=\"form__item-container\">\n              <input\n                onChange={handleNameChange}\n                value={name || ''}\n                type=\"text\"\n                className=\"form__item form__item_type_name\"\n                name=\"name\"\n                id=\"name-input\"\n                placeholder=\"Ваше имя\"\n                minLength={2}\n                maxLength={40}\n                required\n              />\n              <span className=\"form__input-error name-input-error\" />\n            </div>\n            <div className=\"form__item-container\">\n              <input\n                onChange={handleAboutChange}\n                value={description || ''}\n                type=\"text\"\n                className=\"form__item form__item_type_job\"\n                id=\"job-input\"\n                name=\"job\"\n                placeholder=\"Вид деятельности\"\n                minLength={2}\n                maxLength={200}\n                required\n              />\n              <span className=\"form__input-error job-input-error\" />\n            </div>\n          </fieldset>\n        </PopupWithForm>\n    )\n}\nexport default EditProfilePopup;\n\n\n","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction EditAvatarPopup(props){\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar(\n      avatarRef.current.value\n    );\n  }\n    \n    return(\n        <PopupWithForm  name=\"popup_avatar\"  title = \"Сменить аватар\" submitText=\"Сохранить\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n          <fieldset className=\"form__input-container\">\n            <div className=\"form__item-container\">\n              <input\n                type=\"url\"\n                className=\"form__item form__item_type_link-avatar\"\n                id=\"link-input-avatar\"\n                name=\"avatar\"\n                ref={avatarRef} \n                placeholder=\"Ссылка на картинку\"\n                required\n              />\n              <span className=\"form__input-error link-input-avatar-error\" />\n            </div>\n          </fieldset>\n        </PopupWithForm>\n    )\n}\nexport default EditAvatarPopup;\n\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup (props){\n\n  const [inputValue, setInputValue] = React.useState({ name: '', link: '', });\n  \n  React.useEffect(() => {\n    setInputValue({ name: '', link: '' });\n  }, [props.isOpen])\n\n  function handleInputChange(event) {\n    const { name, value } = event.target;\n    setInputValue({\n        ...inputValue,\n        [name]: value,\n    });\n  }\n  \n  function handleSubmit(event) {\n    event.preventDefault();\n    props.onAddPlace({\n        name: inputValue.name,\n        link: inputValue.link,\n    });\n}\n\n    return(\n        <PopupWithForm name =\"popup_add-cards \"  title =\"Новое место\" submitText={'Загрузить фото'} onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose}>\n            <fieldset className=\"form__input-container\">\n            <div className=\"form__item-container\">\n              <input\n                type=\"text\"\n                className=\"form__item form__item_type_title\"\n                id=\"title-input\"\n                name=\"name\"\n                onChange={handleInputChange}\n                value={inputValue.name}\n                placeholder=\"Название\"\n                minLength={2}\n                maxLength={30}\n                required\n              />\n              <span className=\"form__input-error title-input-error\" />\n            </div>\n            <div className=\"form__item-container\">\n              <input\n                type=\"url\"\n                className=\"form__item form__item_type_link\"\n                id=\"link-input\"\n                name=\"link\"\n                onChange={handleInputChange}\n                value={inputValue.link}\n                placeholder=\"Ссылка на картинку\"\n                required\n              />\n              <span className=\"form__input-error link-input-error\" />\n            </div>\n          </fieldset>\n        </PopupWithForm> \n    )\n}\nexport default AddPlacePopup ;","import PopupWithForm from './PopupWithForm';\nimport React from 'react';\n\nfunction DeleteSubmitPopup(props){\n  \n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onCardDelete(props.card)\n  }\n    \n    return(\n        <PopupWithForm  \n          name=\"popup_submit-delete\"  \n          title = \"Вы уверены\" \n          submitText=\"да\" \n          onSubmit={handleSubmit} \n          isOpen={props.isOpen} \n          onClose={props.onClose}>\n        </PopupWithForm>\n    )\n}\nexport default DeleteSubmitPopup;\n\n\n","import React from 'react';\n\nfunction Register({ onRegister }) {\n\n  const [inputValue, setInputValue] = React.useState({\n    email: '',\n    password: ''\n  });\n  \n  function handleInputChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    const { email, password } = inputValue;\n    onRegister(email, password);\n  }\n\n  return (\n    <div className=\"main\">\n      <div className=\"form-section\">\n        <h2 className=\"form-section__heading\">Регистрация</h2>\n        <form className=\"form\" name=\"profile-form\" onSubmit={handleSubmit}>\n          <fieldset className=\"form__input-container\">\n            <input \n              type=\"email\" \n              className=\"form__item form__item_dark form__item_type_email\" \n              onChange={handleInputChange} \n              name=\"email\" \n              placeholder=\"Email\" \n              value={inputValue.email}\n              autocomplete=\"off\" \n              required \n            />\n            <input \n              type=\"password\" \n              className=\"form__item form__item_dark form__item_type_password\"\n              onChange={handleInputChange}  \n              name=\"password\" \n              placeholder=\"Пароль\" \n              autocomplete=\"off\" \n              value={inputValue.password}\n              required \n            />\n          </fieldset>\n          <button className=\"button button_type_submit button_theme_dark\" type=\"submit\">Зарегистрироваться</button>\n          <p className=\"form-section__paragraph\">Уже зарегистрированы? Войти</p>\n        </form>\n      </div>  \n    </div>\n  );\n}\n\nexport default Register;","import React from 'react';\n\nfunction Login({ onLogin }) {\n\n  const [inputValue, setInputValue] = React.useState({ \n    email: '', \n    password: '' \n  });\n\n  function handleInputChange(e) {\n    const { name, value } = e.target;\n    setInputValue({\n      ...inputValue,\n      [name]: value,\n    });\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault()\n    const { email, password } = inputValue;\n    if (!email || !password) {\n      return;\n    }\n    onLogin(email, password);\n  }\n\n  return (\n    <div className=\"main\">\n      <div className=\"form-section\">\n        <h2 className=\"form-section__heading\">Вход</h2>\n        <form className=\"form\" name=\"profile-form\" onSubmit={handleSubmit}>\n          <fieldset className=\"form__input-container\">\n            <input \n              type=\"email\" \n              className=\"form__item form__item_dark form__item_type_email\" \n              onChange={handleInputChange} \n              name=\"email\" \n              value={inputValue.email}\n              placeholder=\"Email\" \n              autocomplete=\"off\" \n              required \n            />\n            <input \n              type=\"password\" \n              className=\"form__item form__item_dark form__item_type_password\"\n              onChange={handleInputChange}  \n              name=\"password\" \n              value={inputValue.password}\n              placeholder=\"Пароль\" \n              autocomplete=\"off\" \n              required \n            />\n          </fieldset>\n          <button className=\"button button_type_submit button_theme_dark\" type=\"submit\">Войти</button>\n        </form>\n      </div>  \n    </div>\n  );\n}\n\nexport default Login;","export const BASE_URL = 'https://auth.nomoreparties.co';\n\nexport const checkStatus = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Что-то пошло не так: ${res.status}`);\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n  .then((response) => {\n    return response.json();\n  })\n  .then((res) => checkStatus(res));\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n  method: 'POST',\n  headers: {\n    Accept: 'application/json',\n    'Content-Type': 'application/json',\n  },\n  body: JSON.stringify({ email, password }),\n})\n.then((res) => checkStatus(res));\n}\n\nexport const checkToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => checkStatus(res));\n}\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ loggedIn, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => loggedIn ? <Route {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","import React from 'react';\nimport error from '../images/error.svg';\nimport success from '../images/success.svg';\n\nfunction InfoTooltip({ isOpen, onClose, isSuccess, message }) {\n  return (\n    <section className={`popup  ${isOpen ? \"popup_opened\":\"\"}`}  isOpen={isOpen} onClose={onClose}>\n      <div className=\"popup__window popup__window_message\">\n        <button \n          type=\"button\" \n          className=\"button button_type_close\"  \n          onClick={onClose} \n        />\n        <img className=\"popup__icon\" src={isSuccess ? success : error} alt=\"информационная иконка\" />\n        <p className=\"popup__heading popup__heading_message\">{message}</p>\n      </div>\n      <div className=\"popup__overlay popup__overlay_edit\" onClick={onClose} />\n    </section>\n  );\n}\n\nexport default InfoTooltip;","import React, { useEffect, useState } from 'react';\nimport { Route, Switch, Redirect, useHistory, useLocation } from 'react-router-dom';\nimport api from '../utils/Api';\nimport '../index.css';\nimport '../App.css';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteSubmitPopup from './DeleteSubmitPopup';\nimport Register from './Register';\nimport Login from './Login';\nimport * as auth from '../utils/auth';\nimport ProtectedRoute from './ProtectedRoute';\nimport IhfoTooltip from './InfoTooltip';\n\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  \n  function handleEditAvatarClick (){\n    setIsEditAvatarPopupOpen(true)\n  }\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\n  function handleEditProfileClick (){\n     setIsEditProfilePopupOpen (true)\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n\n  function handleAddPlaceClick (){\n    setIsAddPlacePopupOpen(true)\n  }\n\n  const [deleteSubmitPopup, setDeleteSubmitPopup] = React.useState(false);\n\n  const [deleteCard, setDeleteCard] = React.useState({});\n\n  function handleDeleteSubmitPopup (card){\n    setDeleteCard(card)\n    setDeleteSubmitPopup(true)\n  }\n\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false); \n\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [email, setEmail] = useState('');\n\n  const [isSuccessful, setIsSuccessful] = useState(false);\n\n  const [message, setMessage] = useState('');\n\n  const history = useHistory();\n\n  const { pathname } = useLocation();\n\n \n  function handleCardClick(dataCards) { \n    setSelectedCard(dataCards); \n    setImagePopupOpen(true); \n  } \n\n function closeAllPopups(){\n    setIsEditProfilePopupOpen (false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setImagePopupOpen(false);\n    setSelectedCard({});\n    setDeleteSubmitPopup(false);\n    setInfoTooltipPopupOpen(false);\n  }\n\n  React.useEffect(() => {\n    const handleEsc = (event) => {\n      const btnEscape = 27;\n       if (event.keyCode === btnEscape) {\n        closeAllPopups()\n      }\n    };\n\n    if (isEditProfilePopupOpen|| isEditAvatarPopupOpen || isAddPlacePopupOpen  || isImagePopupOpen|| isInfoTooltipPopupOpen ) {\n       window.addEventListener('keydown', handleEsc);\n    };\n\n    return () => {\n      window.removeEventListener('keydown', handleEsc);\n    };\n    \n  }, [isEditProfilePopupOpen, isEditAvatarPopupOpen, isAddPlacePopupOpen, isImagePopupOpen, isInfoTooltipPopupOpen]);\n\n  const [currentUser,setCurrentUser] = React.useState({});\n\n  const [userInfoGet, setUserInfoGet] = React.useState(false);\n\n  const [currentCards,setCurrentCards] = React.useState([])\n\n  React.useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCards()])\n      .then(([userInfo, cardList]) => {\n        setCurrentUser(userInfo);\n        setCurrentCards(cardList);\n        setUserInfoGet(true);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  \n  function handleUpdateUser (e){\n    api.changeUserInfo(e)\n    .then((res)=>{\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch(res=>{\n      console.log(`Ошибка:${res}`)\n    })\n  }\n\n  function handleUpdateAvatar(e){\n    api.changeUserImage(e)\n    .then((res)=>{\n      setCurrentUser(res)\n      closeAllPopups()\n    })\n    .catch(res=>{\n      console.log(`Ошибка:${res}`)\n    })\n  }\n\n  \n //Функция лайка карточки\n function handleCardLike(card) {\n  //Проверяем, есть ли уже лайк \n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  // Отправляем запрос в API и получаем обновлённые данные \n  api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n    // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n    const newCards = currentCards.map((c) => c._id === card._id ? newCard : c);\n    // Обновляем стейт\n    setCurrentCards(newCards);\n  })\n    .catch(err => console.log(err));\n}\n\n \n  //Функция удаления карточки\n  function handleCardDelete(card) {\n    api.deleteCard(card._id)\n      .then(() => {\n        setCurrentCards((state) => state.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n   //Функция добавления карточки\n   function handleAddPlaceSubmit(e){\n    api.addCard(e)\n    .then( newCard =>{\n      setCurrentCards([newCard, ...currentCards]);\n      closeAllPopups();\n    })\n    .catch(newCard=>{\n      console.log(`Error:${newCard}`)\n    })\n   }\n\n   //Регистрация\n   function handleRegisterSubmit(email, password) {\n    auth.register(email, password)\n      .then((data) => {\n        if (data) {\n          history.push('/sign-in');\n          setInfoTooltipPopupOpen(true);\n          setIsSuccessful(true);\n          setMessage('Вы успешно зарегистрировались!');\n        }\n      })\n      .catch((err) => {\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\n        setInfoTooltipPopupOpen(true);\n        setIsSuccessful(false);\n        if (err === 400) {\n          return console.log('некорректно заполнено одно из полей');\n        }\n      })\n  }\n  \n  //Авторизация\n  function handleLoginSubmit(email, password) {\n    auth.authorize(email, password)\n      .then((data) => {\n        if (data.token) {\n          setEmail(email)\n          setLoggedIn(true);\n          localStorage.setItem('token', data.token)\n          history.push('/')\n        }\n      })\n      .catch((err) => {\n        setMessage('Что-то пошло не так! Попробуйте ещё раз');\n        setInfoTooltipPopupOpen(true);\n        setIsSuccessful(false);\n        if (err === 400) {\n          return console.log('не передано одно из полей');\n        }\n        if (err === 401) {\n          return console.log('пользователь с email не найден');\n        }\n      })\n  }\n  \n  //Проверка токена\n  function tokenCheck() {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.checkToken(token)\n        .then((data) => {\n          setEmail(data.data.email)\n          setLoggedIn(true)\n          history.push('/')\n        })\n        .catch((err) => {\n          if (err === 401) {\n            return console.log('Токен не передан или передан не в том формате');\n          }\n        })\n    }\n  }\n  \n  //Разлогинивание\n  function onSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false)\n    history.push(\"/sign-in\");\n  }\n\n React.useEffect(() => {\n    tokenCheck();\n  }, []);\n\n   return (\n    <div className=\"root\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <div className=\"page\">\n          <Header\n            email={email}\n            onClick={onSignOut}\n            loggedIn={loggedIn}\n          />\n          <Switch>\n            <ProtectedRoute exact path='/' loggedIn={loggedIn}>\n              <Main\n                loader={userInfoGet}\n                onEditAvatar={handleEditAvatarClick}\n                onEditProfile={handleEditProfileClick}\n                onAddCard ={handleAddPlaceClick}\n                onCardClick={handleCardClick}\n                cards = {currentCards} \n                onCardLike ={handleCardLike}\n                onCardDelete ={handleDeleteSubmitPopup}\n              />\n              <Footer />\n            </ProtectedRoute>\n            <Route path=\"/sign-up\">\n              <Register\n                onRegister={handleRegisterSubmit}\n              />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login\n                onLogin={handleLoginSubmit}\n              />\n            </Route>\n            <Route>\n              {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n            </Route>\n          </Switch>\n          <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n          <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n          <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups}/>\n          <DeleteSubmitPopup card={deleteCard} isOpen={deleteSubmitPopup} onClose={closeAllPopups} onCardDelete={handleCardDelete}/>\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen}/>\n          <IhfoTooltip onClose={closeAllPopups} isOpen={isInfoTooltipPopupOpen}  message={message} isSuccess={isSuccessful} />\n        </div>\n      </CurrentUserContext.Provider>\n    </div>\n    );\n  }\n  \n  export default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n          <App/>\n      </BrowserRouter>\n  </React.StrictMode>,\ndocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}